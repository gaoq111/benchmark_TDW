from typing import Literal
from dataclasses import dataclass
from tdw.librarian import ModelRecord, MaterialLibrarian, ModelLibrarian

AVAILABLE_SCENE = ["empty_scene", "box_room_2018", "box_room_4x5", "building_site"]
# AVAILABLE_OBJECT = [
#     "prim_capsule", 
#     "prim_cone",
#     "prim_sphere",
#     "prim_cube",
# ]

AVAILABLE_OBJECT = [
    "prim_cone",
    "prim_sphere",
    "prim_cube",
    "prim_cyl",
]

AVAILABLE_SCALE_FACTOR = [0.1, 0.2,0.3,0.4,0.5,0.6,0.7]


AVAILABLE_COLOR = {
    "red": {
        "r": 1, "g": 0, "b": 0, "a": 1
    },
    "green": {
        "r": 0, "g": 1, "b": 0, "a": 1
    },
    "blue": {
        "r": 0, "g": 0, "b": 1, "a": 1
    },
    "yellow": {
        "r": 1, "g": 1, "b": 0, "a": 1
    },
    "purple": {
        "r": 1, "g": 0, "b": 1, "a": 1
    },
    "orange": {
        "r": 1, "g": 0.5, "b": 0, "a": 1
    },
    "brown": {
        "r": 0.5, "g": 0.25, "b": 0, "a": 1
    },
    "gray": {
        "r": 0.5, "g": 0.5, "b": 0.5, "a": 1
    },
    # "cran": {
    #     "r": 0.737, "g": 0, "b": 0.129, "a": 1
    # },
    "black": {
        "r": 0, "g": 0, "b": 0, "a": 1
    },
    "white": {
        "r": 1, "g": 1, "b": 1, "a": 1
    },
    "transparent": {
        "r": 1, "g": 1, "b": 1, "a": 0.5
    },
}

# AVAILABLE_MOTION = ["forward", "backward", "left", "right", "up", "down"]
AVAILABLE_MOTION = ["forward", "backward", "left", "right"]


AVAILABLE_CAMERA_POS = {
    "top": {"x": 0, "z": 0, "y": 3.5},
    "left": {"x": -4, "z": 0, "y": 0.2},
    "right": {"x": 4, "z": 0, "y": 0.2},
    "front": {"x": 0, "z": -4, "y": 0.2},
    "back": {"x": 0, "z": 4, "y": 0.2},
}
@dataclass
class ObjectType:
    def __init__(self, model_name:str, 
                 position:dict, 
                 rotation:dict, 
                 scale_factor: float=1, 
                 library:str = "models_core.json",
                 model_record:ModelRecord = None,
                 object_id:int = None, 
                 material:str = None,
                 texture_scale:float = 1,
                 color: str = "red",
                 motion: str = "static"):
        self.model_name = model_name
        self.position = position
        self.rotation = rotation
        self.scale_factor = {"x": scale_factor, "y": scale_factor, "z": scale_factor}
        self.object_id = object_id
        self.library = library
        self.model_record = model_record
        self.material = material
        self.texture_scale = texture_scale
        self.color = AVAILABLE_COLOR[color]
        self.color_name = color
        self.motion = motion
        
        
    def __str__(self):
        return f"ObjectType(model_name={self.model_name}, library={self.library}, position={self.position}, rotation={self.rotation}, scale_factor={self.scale_factor}, object_id={self.object_id})"
    
    def __repr__(self):
        return self.__str__()
    
    def to_dict(self):
        return {
            "model_name": self.model_name,
            "library": self.library,
            "position": self.position,
            "rotation": self.rotation,
            "scale_factor": self.scale_factor,
            "object_id": self.object_id,
            "material": self.material,
            "texture_scale": self.texture_scale,
            "model_record": self.model_record,
            "color": self.color,
            "color_name": self.color_name,
            "motion": self.motion
        }
    
    def get_attributes(self):
        return {
            "model_name": self.model_name,
            "position": self.position,
            "rotation": self.rotation,
            "color": self.color_name,
            "size": self.scale_factor,
            "material": self.material,
            "texture": self.texture_scale,
        }

    def get_size(self):
        scale_avg = (float(self.scale_factor["x"]) + float(self.scale_factor["y"]) + float(self.scale_factor["z"])) / 3
        return scale_avg



AvailableMaterialType = Literal[
    "3d_mesh_technical_fabric",
    "3d_printed_mesh_lace",
    "3d_printed_mesh_lattice",
    "3d_printed_mesh_round",
    "3d_printed_mesh_scales",
    "3d_printed_mesh_square",
    "3d_printed_mesh_triangle",
    "3d_printed_mesh_voronoi",
    "3d_printed_triangle_links",
    "3d_printed_wave_strips",
    "acoustic_panel",
    "acrylic_cotton_brushed",
    "acrylic_polyester_carpet_brushed",
    "alcantara_fabric_brushed_downwards",
    "alcantara_fabric_brushed_upwards",
    "alcantara_fabric_worn_brushed_down",
    "alcantara_fabric_worn_brushed_right",
    "alcantara_fabric_worn_brushed_up",
    "alcantara_honeycomb_quilt",
    "alcantara_microfibre_brushed_up",
    "alien_rock_coral_formation",
    "alien_soil_acid_puddles",
    "alien_surface_panel_overgrown",
    "all_season_tire_v_sculpts_tread",
    "aluminium_brushed",
    "aluminium_clean",
    "aluminium_foil",
    "aluminium_hairline_brushed",
    "aluminium_scratched",
    "aluminium_wire_knit_grill",
    "american_walnut_crown_cut",
    "anodic_powder_paint",
    "anodized_aluminium",
    "antique_bronze_darkened",
    "arabesque_tile_wall",
    "basalt_brick_wall",
    "black_ash_quarter_cut",
    "black_koto_quarter_cut",
    "braided_wool",
    "brass",
    "bricks_ashmont_combined",
    "bricks_basalt_combined",
    "bricks_bond_variations",
    "bricks_chatham_gray_used",
    "bricks_enamel_combined",
    "bricks_red_regular",
    "bricks_salem_matt_used",
    "bronze_formed_panel",
    "bronze_yellow",
    "bull_large_grain_perforated_dots",
    "bull_large_grain_stitched_seam",
    "bull_leather_large_worn",
    "bull_leather_medium_grain",
    "bull_leather_medium_worn",
    "bull_medium_grain_perforated_oblong",
    "bull_small_grain_perforated_dots",
    "bull_small_grain_perforated_oblong",
    "bull_small_grain_perforated_x_dots",
    "calfskin_perforated_oblong",
    "calfskin_perforated_square",
    "calfskin_perforated_x_dots",
    "canvas_beige",
    "car_headliner_fabric",
    "car_iridescent_paint",
    "car_metallic_fabric_cover_crumpled",
    "car_paint_metallic_matt_dusty",
    "car_synthetic_net",
    "carbon_fiber_plain_weave",
    "carbon_fiber_twill_weave",
    "cardboard_corrugated",
    "cardboard_paper",
    "cardboard_side",
    "carpet_loop",
    "castle_wall_mossy_stylized",
    "ceramic_porcelain",
    "ceramic_raw_striped",
    "ceramic_roman_grey",
    "ceramic_tiles_beige_tan",
    "ceramic_tiles_brazilian",
    "ceramic_tiles_brown_tomato",
    "ceramic_tiles_copper",
    "ceramic_tiles_floral_white",
    "ceramic_tiles_golden_sand",
    "ceramic_tiles_green",
    "ceramic_tiles_grey",
    "ceramic_tiles_ivory",
    "ceramic_tiles_moka",
    "ceramic_tiles_pale_goldenrod",
    "ceramic_tiles_seashell",
    "ceramic_tiles_wall",
    "ceramic_tiles_wheat_roughness",
    "chrome",
    "chrome2",
    "chrome_grey",
    "chrome_v_shiny",
    "church_wall_chamfered_cracks",
    "cinderblock_wall",
    "classic_pinpoint_shirt",
    "cliff_dasht_iran",
    "clip_resin_cured",
    "clip_resin_wet",
    "concrete",
    "concrete_01",
    "concrete_049",
    "concrete_asphalt_rolled",
    "concrete_chipped_cracked",
    "concrete_clover",
    "concrete_eroded",
    "concrete_paving_blocks",
    "concrete_raw_brushed_fine",
    "concrete_raw_damaged",
    "concrete_raw_eroded",
    "concrete_raw_panels",
    "concrete_smooth_glossy",
    "concrete_spotted",
    "concrete_terrazzo",
    "concrete_terrazzo_generator",
    "concrete_tiles_linear_grey",
    "concrete_worn_scratched",
    "copper_brushed",
    "copper_oxydized",
    "cork_compact",
    "cork_heavy",
    "cork_simple",
    "cotton_blend_fabric_spotted_worn",
    "cotton_blend_multi_colored_filaments_spotted",
    "cotton_blend_small_fishbone",
    "cotton_canvas_classic",
    "cotton_canvas_washed_out",
    "cotton_check_black",
    "cotton_chevron",
    "cotton_crepe_cross_stripes",
    "cotton_denim_jeans_pleated_worn",
    "cotton_fabric_printed",
    "cotton_flannel_brushed",
    "cotton_hot_orange",
    "cotton_jean_light_blue",
    "cotton_jersey",
    "cotton_linen_woven_shorn_brush",
    "cotton_mercerised_grey",
    "cotton_natural_rough",
    "cotton_polyester_jersey_sweatshirt",
    "cotton_polyester_polar_fleece",
    "cotton_tablecloth_white",
    "crackling_lime",
    "desert_sandstone_dark",
    "dmd_metallic_fine",
    "dmls_cobalt_chrome_rough",
    "dmls_silver_sanded",
    "doormat_plastic_rough",
    "dry_stream_bed_pebbles",
    "ebony_reconstituted_quarter_cut",
    "elastomer_wavy_ridges",
    "fabric_carpet_grey",
    "fabric_felt",
    "fabric_vinyl_heavy",
    "fabric_woven_black",
    "felt",
    "fieldstone_italian",
    "flat_stone_wall",
    "footprints_in_sandy_soil",
    "fossilized_streams",
    "french_coastline_cliff_rock",
    "french_coastline_rock_block",
    "glass_chopped_strands",
    "glass_clear",
    "glass_fiber_plain_weave",
    "glass_scale_formation",
    "gold_clean",
    "gold_leaf_fine",
    "gold_natural",
    "granite_beige_french",
    "granite_black",
    "granite_fauske",
    "granite_grey_blue",
    "granite_grey_dark",
    "granite_white",
    "grass_countryside",
    "gravel_multicolored",
    "gravel_sand_pebbles",
    "gravel_white",
    "greystone_wall_weathered",
    "hovel_ground",
    "iceland_black_sand_beach",
    "iceland_grassy_cliff",
    "iceland_mossy_meadow",
    "in_white_plaster",
    "iron_anvil_rusty",
    "iron_bumped",
    "iron_forged",
    "iron_rusty",
    "jersey_printed",
    "jersey_printed_stripes",
    "jungle_ground_roots",
    "jungle_rocky_soil",
    "kevlar_plain_weave",
    "kevlar_twill_weave",
    "lamb_leather",
    "lamb_leather_perforated_dots",
    "lamb_leather_perforated_square",
    "laser_cut_norway_spruce",
    "laser_cut_oak_reconstituted",
    "laser_cut_wenge_reconstituted",
    "laser_cut_white_norway_spruce",
    "laser_cut_zebrano",
    "lava_flow",
    "lavastone_brush_hammered",
    "leather_bull",
    "leather_fine",
    "leather_fine_grain",
    "leather_fine_grain_pebbled",
    "leather_fine_grain_worn",
    "leather_fine_perforated_dots",
    "leather_fine_perforated_square",
    "leather_fine_touch",
    "leather_pebbled",
    "leather_pigskin",
    "leather_plain",
    "leather_pu_perforated_dots",
    "leather_pu_perforated_oblong",
    "leather_pu_perforated_square",
    "leather_pu_perforated_x_dots",
    "leather_rough",
    "leather_rugged_circle_folding",
    "leather_smooth_worn",
    "leather_turned",
    "limestone_azul_valverde",
    "limestone_cupablue",
    "limestone_eroded_wall",
    "limestone_raw_amber",
    "limestone_white",
    "linen_burlap",
    "linen_burlap_irregular",
    "linen_viscose_classic_pattern",
    "linen_viscose_woven_cloth",
    "linen_woven",
    "marble_anemone_grey",
    "marble_casa_emperador",
    "marble_clean_black",
    "marble_crema_valencia",
    "marble_green",
    "marble_griotte",
    "marble_light_green",
    "marble_limestone_beige",
    "marble_new_emperador_dark",
    "marble_orange",
    "marble_portoro_gold_clean",
    "marble_speckles_rough_red",
    "marble_white",
    "medieval_castle_wall",
    "men_suit_wool_twill",
    "metal_brushed_copper",
    "metal_cast",
    "metal_cast_iron",
    "metal_cast_iron_black",
    "metal_coated",
    "metal_flakes_filled_clear_plastic",
    "metal_floor_003",
    "metal_galvanized",
    "metal_grater",
    "metal_grid_expanded",
    "metal_grid_grating",
    "metal_grid_perforated",
    "metal_grid_rounded_patterned",
    "metal_grill_plain_weave",
    "metal_grill_triangle_scales",
    "metal_grinded",
    "metal_iron_damaged",
    "metal_iron_rugged",
    "metal_mesh_oblong",
    "metal_molten_drop_3d_print",
    "metal_paint_speaker_mesh_curves",
    "metal_perforated_dots",
    "metal_perforated_hexagons",
    "metal_perforated_triangles",
    "metal_plain_weave_grill",
    "metal_plate_005",
    "metal_plate_008",
    "metal_round_mesh_layered",
    "metal_sandblasted",
    "metal_screen_grid",
    "metal_selective_speaker_mesh",
    "metal_speaker_mesh_concentric",
    "metal_speaker_mesh_dots_swirl",
    "metal_speaker_mesh_oblong",
    "metal_speaker_mesh_organic",
    "metal_speaker_mesh_round",
    "metal_steel_galvanized_spangle",
    "metal_wire_mesh_square",
    "metal_wire_straight_grill",
    "metallic_car_paint",
    "military_camouflage",
    "mjm_elastomer",
    "mud_brick_wall",
    "mud_forest_track",
    "mud_wet_step_marks",
    "nappa_leather_pill_quilt",
    "nappa_leather_switch_quilt",
    "nappa_leather_worn",
    "natural_stone_mossy",
    "nubuck_perforated_square",
    "nylon_butterfly_welt_stripe",
    "old_limestone_wall_reinforced",
    "paint_glossy",
    "paint_matte",
    "paint_satin",
    "paint_varnished",
    "paris_townhouse_wall",
    "paris_townhouse_wall_dirty",
    "parquet_alternating_orange",
    "parquet_european_ash_grey",
    "parquet_long_horizontal_clean",
    "parquet_wood_ipe",
    "parquet_wood_mahogany",
    "parquet_wood_oak_brown",
    "parquet_wood_olive",
    "parquet_wood_red_cedar",
    "parquet_wood_wenge",
    "pavement_stones_round_concrete",
    "pearlescent_car_paint",
    "pebble_beach_small",
    "pebbles_with_sand",
    "pebbly_shore",
    "pennsylvania_fieldstone",
    "pine_forest_floor",
    "plaster_acoustic_ceiling",
    "plaster_acoustic_panel_hole",
    "plaster_cellulose_insulation",
    "plaster_facade_grey",
    "plaster_fine_spray",
    "plaster_stucco_brushed",
    "plaster_stucco_california",
    "plaster_ultra_fine_spray",
    "plaster_worn",
    "plastic_abrasive_surface_black",
    "plastic_bag_plain_weave",
    "plastic_base",
    "plastic_braided",
    "plastic_brush_grain_heavy",
    "plastic_diamond_grid_grain",
    "plastic_dot_recessed_grain",
    "plastic_droplet_grain",
    "plastic_fine_grain_thick",
    "plastic_fine_sand_grain",
    "plastic_grain",
    "plastic_granite_grain_large",
    "plastic_granite_grain_medium",
    "plastic_hailed_grain_thin",
    "plastic_hammered",
    "plastic_line_grain",
    "plastic_microbead_grain_heavy",
    "plastic_microbead_grain_light",
    "plastic_microbead_grain_medium",
    "plastic_microbead_grain_thick",
    "plastic_polka_embossed_grain",
    "plastic_polka_recessed_grain",
    "plastic_rain_grain",
    "plastic_sand_grain_coarse",
    "plastic_skin_wrinkle_grain_large",
    "plastic_square_grid_grain",
    "plastic_stripes",
    "plastic_translucent",
    "plastic_ultra_matt_grain_rough",
    "plastic_vinyl_glossy",
    "plastic_vinyl_glossy_black",
    "plastic_vinyl_glossy_blue",
    "plastic_vinyl_glossy_gray",
    "plastic_vinyl_glossy_green",
    "plastic_vinyl_glossy_light_gray",
    "plastic_vinyl_glossy_orange",
    "plastic_vinyl_glossy_red",
    "plastic_vinyl_glossy_white",
    "plastic_vinyl_glossy_yellow",
    "plastic_weave",
    "polyester_3dknit_mesh_diagonal",
    "polyester_acrylic_cotton_woven_thick"
]

if __name__ == "__main__":
    lib = MaterialLibrarian()
    material_types = lib.get_material_types()
    print(material_types[0:3]) # Ceramic